<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Generating Icons...</title>
</head>
<body>
    <h1>Generating PWA Icons...</h1>
    <canvas id="c" width="512" height="512"></canvas>
    <script>
        const LOGO = 'https://cdn.poehali.dev/files/8af0fa73-0b2f-4c2d-ad5e-cdc9818bab3c.jpg';
        const canvas = document.getElementById('c');
        const ctx = canvas.getContext('2d');
        
        const img = new Image();
        img.crossOrigin = 'anonymous';
        img.onload = () => {
            // 512x512
            canvas.width = 512;
            canvas.height = 512;
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, 512, 512);
            ctx.drawImage(img, 0, 0, 512, 512);
            download('icon-512.png');
            
            // 512x512 maskable
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, 512, 512);
            ctx.drawImage(img, 51.2, 51.2, 409.6, 409.6);
            download('icon-512-maskable.png');
            
            // 192x192
            canvas.width = 192;
            canvas.height = 192;
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, 192, 192);
            ctx.drawImage(img, 0, 0, 192, 192);
            download('icon-192.png');
            
            // 192x192 maskable
            ctx.fillStyle = '#0a0a0a';
            ctx.fillRect(0, 0, 192, 192);
            ctx.drawImage(img, 19.2, 19.2, 153.6, 153.6);
            download('icon-192-maskable.png');
            
            document.body.innerHTML = '<h1>âœ… Done! 4 files downloaded. Move them to /public/</h1>';
        };
        img.src = LOGO;
        
        function download(name) {
            const a = document.createElement('a');
            a.download = name;
            a.href = canvas.toDataURL('image/png');
            a.click();
        }
    </script>
</body>
</html>
